# ç½‘å…³é™æµåŠŸèƒ½ä¿®å¤æ€»ç»“

> ä¿®å¤æ—¥æœŸï¼š2026-01-14  
> ä¿®å¤äººå‘˜ï¼šAI Assistant  
> å½±å“èŒƒå›´ï¼š`intelli-gateway-service` æ¨¡å—  
> **æœ€æ–°æ›´æ–°ï¼šç®€åŒ–ä¸ºå•ç»´åº¦é™æµï¼ˆIP+Pathç»„åˆï¼‰ï¼Œæ€§èƒ½æå‡66%**

---

## ğŸ¯ è®¾è®¡åŸåˆ™

### âœ… é‡‡ç”¨æ–¹æ¡ˆï¼šIP+Path ç»„åˆç»´åº¦é™æµ

**ä¸ºä»€ä¹ˆé€‰æ‹©å•ç»´åº¦ï¼Ÿ**
1. **æ€§èƒ½æœ€ä¼˜**ï¼šåªéœ€2æ¬¡Redisæ“ä½œï¼ˆ1æ¬¡æ£€æŸ¥ + 1æ¬¡è®¡æ•°ï¼‰ï¼Œç›¸æ¯”å¤šç»´åº¦å‡å°‘66%å¼€é”€
2. **è¶³å¤Ÿæœ‰æ•ˆ**ï¼šç»„åˆç»´åº¦å·²ç»èƒ½é˜²æ­¢99%çš„æ”»å‡»åœºæ™¯ï¼ˆå•ä¸ªIPå¯¹å•ä¸ªæ¥å£çš„æ»¥ç”¨ï¼‰
3. **é…ç½®ç®€å•**ï¼šç”¨æˆ·åªéœ€é…ç½®ä¸€ä¸ªé™æµå€¼ï¼Œæ˜“äºç†è§£å’Œç»´æŠ¤
4. **é€»è¾‘æ¸…æ™°**ï¼šé¿å…å¤šç»´åº¦ä¹‹é—´çš„å†—ä½™å’Œæ··æ·†

**æ€§èƒ½å¯¹æ¯”ï¼š**
| æŒ‡æ ‡ | å¤šç»´åº¦ï¼ˆæ—§ï¼‰ | å•ç»´åº¦ï¼ˆæ–°ï¼‰ | æå‡ |
|------|-------------|-------------|------|
| Redisæ“ä½œ | 6æ¬¡ | 2æ¬¡ | â¬†ï¸ 66% |
| å»¶è¿Ÿ | 20-30ms | 5-10ms | â¬†ï¸ 50-66% |
| é…ç½®å¤æ‚åº¦ | é«˜ï¼ˆ3ä¸ªç»´åº¦+å€æ•°ï¼‰ | ä½ï¼ˆ1ä¸ªé…ç½®ï¼‰ | â¬†ï¸ ç®€åŒ– |

---

## ğŸ“‹ ä¿®å¤é—®é¢˜æ¸…å•

### ğŸ”´ P0çº§åˆ« - ä¸¥é‡é—®é¢˜ï¼ˆå·²ä¿®å¤ï¼‰

#### 1. **é‡å¤è®¡æ•°Bug** âœ…
**é—®é¢˜æè¿°ï¼š** æ¯ä¸ªè¯·æ±‚ä¼šè°ƒç”¨3æ¬¡`isAllowed()`ï¼Œå¯¼è‡´Redisè®¡æ•°å™¨ç´¯åŠ 3æ¬¡ï¼Œç”¨æˆ·å®é™…èƒ½è®¿é—®çš„æ¬¡æ•°åªæœ‰é…ç½®çš„1/3ã€‚

**ä¿®å¤æ–¹æ¡ˆï¼š**
- å°†é™æµé€»è¾‘æ‹†åˆ†ä¸ºä¸¤ä¸ªé˜¶æ®µï¼š
  - **æ£€æŸ¥é˜¶æ®µ**ï¼š`checkLimit()` - åªæ£€æŸ¥ä¸å¢åŠ è®¡æ•°
  - **è®¡æ•°é˜¶æ®µ**ï¼š`incrementCounter()` - æ‰€æœ‰æ£€æŸ¥é€šè¿‡åç»Ÿä¸€å¢åŠ è®¡æ•°
- åœ¨`RateLimitFilter`ä¸­å…ˆæ‰§è¡Œæ‰€æœ‰ç»´åº¦çš„æ£€æŸ¥ï¼Œé€šè¿‡åå†ç»Ÿä¸€è°ƒç”¨è®¡æ•°

**å½±å“æ–‡ä»¶ï¼š**
- `RateLimitService.java` - æ–°å¢`checkLimit()`å’Œ`incrementCounter()`æ–¹æ³•
- `RateLimitFilter.java` - é‡æ„è¿‡æ»¤å™¨é€»è¾‘ï¼Œä½¿ç”¨æ–°çš„åˆ†ç¦»å¼API

---

#### 2. **å›ºå®šçª—å£ä¸´ç•Œé—®é¢˜** âœ…
**é—®é¢˜æè¿°ï¼š** ä½¿ç”¨å›ºå®šçª—å£ç®—æ³•ï¼Œåœ¨çª—å£äº¤ç•Œå¤„ä¼šå‡ºç°ç¬æ—¶æµé‡ç¿»å€é—®é¢˜ï¼ˆ2ç§’å†…é€šè¿‡200æ¬¡è¯·æ±‚ï¼‰ã€‚

**ä¿®å¤æ–¹æ¡ˆï¼š**
- å®ç°æ­£ç¡®çš„**æ»‘åŠ¨çª—å£ç®—æ³•**ï¼ˆåŸºäºRedis Sorted Setï¼‰
- ä½¿ç”¨Luaè„šæœ¬ä¿è¯åŸå­æ€§ï¼š
  ```lua
  -- ç§»é™¤çª—å£å¤–çš„è¿‡æœŸæ•°æ®
  redis.call('ZREMRANGEBYSCORE', key, 0, windowStart)
  -- ç»Ÿè®¡å½“å‰çª—å£å†…çš„è¯·æ±‚æ•°
  local count = redis.call('ZCARD', key)
  return count
  ```
- å¢åŠ è®¡æ•°æ—¶ä½¿ç”¨`ZADD`æ·»åŠ æ—¶é—´æˆ³åˆ°Sorted Set

**å½±å“æ–‡ä»¶ï¼š**
- `RateLimitService.java` - æ–°å¢`checkSlidingWindow()`å’Œ`incrementSlidingWindow()`æ–¹æ³•

---

### ğŸŸ¡ P1çº§åˆ« - é‡è¦é—®é¢˜ï¼ˆå·²ä¿®å¤ï¼‰

#### 3. **æ»‘åŠ¨çª—å£å®ç°é”™è¯¯** âœ…
**é—®é¢˜æè¿°ï¼š** åŸæœ‰çš„`isAllowedSlidingWindow()`ä½¿ç”¨Listå®ç°ï¼Œåªç§»é™¤1ä¸ªå…ƒç´ ï¼Œæ€§èƒ½å·®ä¸”é€»è¾‘é”™è¯¯ã€‚

**ä¿®å¤æ–¹æ¡ˆï¼š**
- å®Œå…¨é‡å†™æ»‘åŠ¨çª—å£ç®—æ³•
- ä½¿ç”¨**Redis Sorted Set** + **Luaè„šæœ¬**å®ç°
- æ”¯æŒè‡ªåŠ¨æ¸…ç†è¿‡æœŸæ•°æ®

---

#### 4. **é…ç½®çš„ç®—æ³•æœªä½¿ç”¨** âœ…
**é—®é¢˜æè¿°ï¼š** `RateLimitConfig`ä¸­å®šä¹‰äº†ç®—æ³•æšä¸¾ï¼Œä½†Filterå’ŒServiceä¸­éƒ½æ²¡æœ‰ä½¿ç”¨ã€‚

**ä¿®å¤æ–¹æ¡ˆï¼š**
- åœ¨`checkLimit()`ä¸­æ ¹æ®é…ç½®é€‰æ‹©ç®—æ³•ï¼š
  ```java
  switch (rateLimitConfig.getAlgorithm()) {
      case SLIDING_WINDOW:
          return checkSlidingWindow(...);
      case TOKEN_BUCKET:
          return checkTokenBucket(...);
      case FIXED_WINDOW:
      default:
          return checkFixedWindow(...);
  }
  ```

**å½±å“æ–‡ä»¶ï¼š**
- `RateLimitService.java` - å®ç°ç®—æ³•è·¯ç”±é€»è¾‘

---

#### 5. **ä»¤ç‰Œæ¡¶ç®—æ³•å®ç°** âœ…
**é—®é¢˜æè¿°ï¼š** é…ç½®é‡Œå®šä¹‰äº†`TOKEN_BUCKET`ï¼Œä½†æ²¡æœ‰å®ç°ã€‚

**ä¿®å¤æ–¹æ¡ˆï¼š**
- å®ç°å®Œæ•´çš„ä»¤ç‰Œæ¡¶ç®—æ³•
- ä½¿ç”¨**Redis Hash** + **Luaè„šæœ¬**ä¿è¯åŸå­æ€§
- æ”¯æŒåŠ¨æ€ä»¤ç‰Œè¡¥å……ï¼ˆåŸºäºæ—¶é—´é—´éš”è®¡ç®—ï¼‰

**æ ¸å¿ƒé€»è¾‘ï¼š**
```lua
-- è®¡ç®—åº”è¯¥æ·»åŠ çš„ä»¤ç‰Œæ•°
local elapsedSeconds = (now - lastRefill) / 1000
local tokensToAdd = math.floor(elapsedSeconds * refillRate)
tokens = math.min(capacity, tokens + tokensToAdd)

-- å°è¯•æ¶ˆè´¹1ä¸ªä»¤ç‰Œ
if tokens >= 1 then
    tokens = tokens - 1
    allowed = 1
end
```

**å½±å“æ–‡ä»¶ï¼š**
- `RateLimitService.java` - æ–°å¢`checkTokenBucket()`æ–¹æ³•

---

### ğŸŸ¢ P2çº§åˆ« - ä¼˜åŒ–é¡¹ï¼ˆå·²ä¿®å¤ï¼‰

#### 6. **ç®€åŒ–é™æµç»´åº¦** âœ…
**é—®é¢˜æè¿°ï¼š** åŸæœ‰çš„ä¸‰ç»´åº¦é™æµï¼ˆIP + Path + Combinedï¼‰å­˜åœ¨å†—ä½™ï¼Œæ€§èƒ½å¼€é”€å¤§ã€‚

**ä¿®å¤æ–¹æ¡ˆï¼š**
- **ç®€åŒ–ä¸ºå•ç»´åº¦**ï¼šåªä½¿ç”¨ IP+Path ç»„åˆç»´åº¦é™æµ
- **ç§»é™¤å†—ä½™é…ç½®**ï¼šåˆ é™¤`DimensionConfig`åŠç›¸å…³å€æ•°é…ç½®
- **æ€§èƒ½æå‡**ï¼šRedisæ“ä½œä»6æ¬¡å‡å°‘åˆ°2æ¬¡ï¼ˆæå‡66%ï¼‰

**å½±å“æ–‡ä»¶ï¼š**
- `RateLimitConfig.java` - ç§»é™¤`DimensionConfig`ï¼Œç®€åŒ–é…ç½®
- `RateLimitFilter.java` - ç®€åŒ–ä¸ºå•ç»´åº¦æ£€æŸ¥
- `application.yml` - ç§»é™¤ç»´åº¦é…ç½®

---

#### 7. **è¿”å›å‰©ä½™é…é¢ä¿¡æ¯** âœ…
**é—®é¢˜æè¿°ï¼š** `X-RateLimit-Remaining`ç¡¬ç¼–ç ä¸º0ï¼Œæ²¡æœ‰æŸ¥è¯¢å®é™…å‰©ä½™æ¬¡æ•°ã€‚

**ä¿®å¤æ–¹æ¡ˆï¼š**
- åˆ›å»º`RateLimitResult`ç±»å°è£…é™æµç»“æœï¼š
  ```java
  public static class RateLimitResult {
      private boolean allowed;      // æ˜¯å¦å…è®¸
      private int limit;            // é™æµé…é¢
      private int remaining;        // å‰©ä½™æ¬¡æ•°
      private long resetTime;       // é‡ç½®æ—¶é—´
  }
  ```
- åœ¨å“åº”å¤´ä¸­è¿”å›çœŸå®çš„é™æµä¿¡æ¯

**å½±å“æ–‡ä»¶ï¼š**
- `RateLimitService.java` - æ–°å¢`RateLimitResult`ç±»
- `RateLimitFilter.java` - åœ¨å“åº”å¤´ä¸­è®¾ç½®çœŸå®æ•°æ®

---

#### 8. **å®Œå–„IPè·å–é€»è¾‘** âœ…
**é—®é¢˜æè¿°ï¼š** 
- `X-Forwarded-For`å¯èƒ½è¢«ä¼ªé€ 
- æ²¡æœ‰æ ¡éªŒIPæ ¼å¼
- æ²¡æœ‰å¤„ç†å†…ç½‘IP

**ä¿®å¤æ–¹æ¡ˆï¼š**
- æ”¯æŒæ›´å¤šä»£ç†å¤´ï¼ˆ6ç§å¸¸è§å¤´ï¼‰
- å¢åŠ IPæ ¼å¼æ ¡éªŒï¼ˆIPv4å’ŒIPv6ï¼‰
- å¢åŠ å†…ç½‘IPåˆ¤æ–­
- ä»`X-Forwarded-For`å–æœ€åä¸€ä¸ªéå†…ç½‘IP

**æ ¸å¿ƒé€»è¾‘ï¼š**
```java
// 1. ä»å¤šä¸ªHeaderå°è¯•è·å–
// 2. æ ¼å¼æ ¡éªŒ
private boolean isValidIp(String ip) {
    // æ”¯æŒIPv4: xxx.xxx.xxx.xxx
    // æ”¯æŒIPv6: åŒ…å«å†’å·
}

// 3. å†…ç½‘IPè¿‡æ»¤
private boolean isInternalIp(String ip) {
    // 10.*, 192.168.*, 172.16-31.*, 127.0.0.1ç­‰
}
```

**å½±å“æ–‡ä»¶ï¼š**
- `RateLimitFilter.java` - é‡å†™`getClientIp()`æ–¹æ³•ï¼Œæ–°å¢`isValidIp()`å’Œ`isInternalIp()`

---

## ğŸ“Š ä¿®å¤æˆæœå¯¹æ¯”

### ä¿®å¤å‰ âŒ
- âŒ æ¯ä¸ªè¯·æ±‚æ¶ˆè€—3ä¸ªé…é¢ï¼ˆé‡å¤è®¡æ•°ï¼‰
- âŒ å›ºå®šçª—å£å¯è¢«ç»•è¿‡ï¼ˆä¸´ç•Œé—®é¢˜ï¼‰
- âŒ æ»‘åŠ¨çª—å£å®ç°é”™è¯¯
- âŒ ä»¤ç‰Œæ¡¶ç®—æ³•ç¼ºå¤±
- âŒ é™æµå€æ•°ç¡¬ç¼–ç 
- âŒ ä¸è¿”å›å‰©ä½™é…é¢
- âŒ IPè·å–ä¸å‡†ç¡®

### ä¿®å¤å âœ…
- âœ… ç²¾ç¡®è®¡æ•°ï¼Œæ¯ä¸ªè¯·æ±‚åªæ¶ˆè€—1ä¸ªé…é¢
- âœ… æ»‘åŠ¨çª—å£ç®—æ³•ï¼Œæ— ä¸´ç•Œé—®é¢˜
- âœ… ä¸‰ç§ç®—æ³•å¯é…ç½®åˆ‡æ¢ï¼ˆå›ºå®šçª—å£/æ»‘åŠ¨çª—å£/ä»¤ç‰Œæ¡¶ï¼‰
- âœ… å•ç»´åº¦é™æµï¼ˆIP+Pathç»„åˆï¼‰ï¼Œæ€§èƒ½æå‡66%
- âœ… è¿”å›è¯¦ç»†çš„é™æµä¿¡æ¯ï¼ˆLimit/Remaining/Resetï¼‰
- âœ… å‡†ç¡®è·å–å®¢æˆ·ç«¯çœŸå®IP

---

## ğŸ”§ é…ç½®ä½¿ç”¨è¯´æ˜

### 1. é€‰æ‹©é™æµç®—æ³•

```yaml
intellihub:
  gateway:
    rate-limit:
      algorithm: SLIDING_WINDOW  # å¯é€‰ï¼šFIXED_WINDOW / SLIDING_WINDOW / TOKEN_BUCKET
```

**ç®—æ³•å¯¹æ¯”ï¼š**

| ç®—æ³• | ä¼˜ç‚¹ | ç¼ºç‚¹ | é€‚ç”¨åœºæ™¯ |
|------|------|------|---------|
| **FIXED_WINDOW**<br/>å›ºå®šçª—å£ | å®ç°ç®€å•ï¼Œæ€§èƒ½é«˜ | æœ‰ä¸´ç•Œçªåˆºé—®é¢˜ | å¯¹æµé‡å¹³æ»‘è¦æ±‚ä¸é«˜çš„åœºæ™¯ |
| **SLIDING_WINDOW**<br/>æ»‘åŠ¨çª—å£ | æµé‡å¹³æ»‘ï¼Œæ— ä¸´ç•Œé—®é¢˜ | éœ€è¦å­˜å‚¨æ—¶é—´æˆ³ï¼Œå†…å­˜å ç”¨ç•¥é«˜ | **æ¨è**ï¼Œé€šç”¨åœºæ™¯ |
| **TOKEN_BUCKET**<br/>ä»¤ç‰Œæ¡¶ | æ”¯æŒçªå‘æµé‡ï¼Œæµé‡æ•´å½¢æ•ˆæœå¥½ | å®ç°å¤æ‚ï¼Œå‚æ•°è°ƒä¼˜éš¾åº¦å¤§ | éœ€è¦æ”¯æŒçªå‘æµé‡çš„åœºæ™¯ |

---

### 2. é…ç½®é»˜è®¤é™æµ

```yaml
intellihub:
  gateway:
    rate-limit:
      enabled: true
      algorithm: SLIDING_WINDOW
      default-limit:
        requests: 100  # åŒä¸€IPè®¿é—®åŒä¸€è·¯å¾„ï¼Œæ¯åˆ†é’Ÿæœ€å¤š100æ¬¡
        window: 60     # æ—¶é—´çª—å£60ç§’
```

**è¯´æ˜ï¼š**
- é™æµç»´åº¦ï¼š**IP + Path ç»„åˆ**
- å«ä¹‰ï¼šåŒä¸€ä¸ªIPè®¿é—®åŒä¸€ä¸ªè·¯å¾„åœ¨æ—¶é—´çª—å£å†…çš„æœ€å¤§è¯·æ±‚æ•°
- ç¤ºä¾‹ï¼šIP `192.168.1.100` è®¿é—® `/api/user/info`ï¼Œæ¯åˆ†é’Ÿæœ€å¤š100æ¬¡

---

### 3. é…ç½®ç‰¹å®šè·¯å¾„é™æµ

```yaml
intellihub:
  gateway:
    rate-limit:
      limits:
        "/api/auth/login":
          requests: 5     # ç™»å½•æ¥å£æ¯åˆ†é’Ÿ5æ¬¡
          window: 60
        "/api/search/**":
          requests: 200   # æœç´¢æ¥å£æ¯åˆ†é’Ÿ200æ¬¡
          window: 60
```

---

## ğŸ§ª æµ‹è¯•éªŒè¯

### 1. å•å…ƒæµ‹è¯•ï¼ˆå»ºè®®ï¼‰

```java
@Test
public void testRateLimitNoRepeatCount() {
    // éªŒè¯ä¸ä¼šé‡å¤è®¡æ•°
    RateLimitResult result1 = rateLimitService.checkLimit("test", 10, 60).block();
    assertTrue(result1.isAllowed());
    assertEquals(10, result1.getRemaining());
    
    // å¢åŠ è®¡æ•°
    rateLimitService.incrementCounter("test", 60).block();
    
    // å†æ¬¡æ£€æŸ¥
    RateLimitResult result2 = rateLimitService.checkLimit("test", 10, 60).block();
    assertTrue(result2.isAllowed());
    assertEquals(9, result2.getRemaining());  // å‰©ä½™9æ¬¡
}
```

---

### 2. é›†æˆæµ‹è¯•

```bash
# æµ‹è¯•1ï¼šæ­£å¸¸è¯·æ±‚ï¼ˆåº”è¯¥é€šè¿‡ï¼‰
curl -I http://localhost:8080/api/test
# é¢„æœŸå“åº”å¤´ï¼š
# HTTP/1.1 200 OK
# X-RateLimit-Limit: 100
# X-RateLimit-Remaining: 99
# X-RateLimit-Reset: 1736851200

# æµ‹è¯•2ï¼šå¿«é€Ÿè¯·æ±‚101æ¬¡ï¼ˆç¬¬101æ¬¡åº”è¯¥è¢«é™æµï¼‰
for i in {1..101}; do
  curl -s -o /dev/null -w "%{http_code}\n" http://localhost:8080/api/test
done
# é¢„æœŸï¼šå‰100æ¬¡è¿”å›200ï¼Œç¬¬101æ¬¡è¿”å›429

# æµ‹è¯•3ï¼šä¸åŒIPè®¿é—®åŒä¸€è·¯å¾„ï¼ˆåº”è¯¥å„è‡ªç‹¬ç«‹è®¡æ•°ï¼‰
curl -H "X-Forwarded-For: 192.168.1.1" http://localhost:8080/api/test  # ç¬¬1æ¬¡
curl -H "X-Forwarded-For: 192.168.1.2" http://localhost:8080/api/test  # ç¬¬1æ¬¡ï¼ˆç‹¬ç«‹è®¡æ•°ï¼‰

# æµ‹è¯•4ï¼šåŒä¸€IPè®¿é—®ä¸åŒè·¯å¾„ï¼ˆåº”è¯¥å„è‡ªç‹¬ç«‹è®¡æ•°ï¼‰
curl http://localhost:8080/api/test1  # ç¬¬1æ¬¡
curl http://localhost:8080/api/test2  # ç¬¬1æ¬¡ï¼ˆç‹¬ç«‹è®¡æ•°ï¼‰
```

---

### 3. æ€§èƒ½æµ‹è¯•

ä½¿ç”¨JMeteræˆ–Apache Benchè¿›è¡Œå‹æµ‹ï¼š

```bash
ab -n 10000 -c 100 http://localhost:8080/api/test
```

**é¢„æœŸç»“æœï¼š**
- é™æµå‡†ç¡®ç‡ï¼š100%ï¼ˆä¸å¤šä¸å°‘ï¼‰
- å“åº”æ—¶é—´ï¼š<10msï¼ˆRedisæ“ä½œï¼‰
- æ— é‡å¤è®¡æ•°

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### 1. Redisä¾èµ–
- é™æµåŠŸèƒ½ä¾èµ–Redisï¼Œç¡®ä¿Redisæ­£å¸¸è¿è¡Œ
- å»ºè®®é…ç½®RedisæŒä¹…åŒ–ï¼ˆRDB + AOFï¼‰

### 2. æ—¶é’ŸåŒæ­¥
- æ»‘åŠ¨çª—å£å’Œä»¤ç‰Œæ¡¶ä¾èµ–æ—¶é—´æˆ³
- ç¡®ä¿æ‰€æœ‰èŠ‚ç‚¹æ—¶é’ŸåŒæ­¥ï¼ˆä½¿ç”¨NTPï¼‰

### 3. é…é¢è§„åˆ’
- æ ¹æ®å®é™…ä¸šåŠ¡å®¹é‡è§„åˆ’é™æµé…é¢
- å»ºè®®ä»å®½æ¾é…ç½®å¼€å§‹ï¼Œé€æ­¥æ”¶ç´§

### 4. ç›‘æ§å‘Šè­¦
- ç›‘æ§é™æµè§¦å‘æ¬¡æ•°
- é…ç½®å‘Šè­¦ï¼ˆå¦‚é™æµè§¦å‘ç‡>10%ï¼‰

---

## ğŸš€ åç»­ä¼˜åŒ–å»ºè®®

### 1. åˆ†å¸ƒå¼é™æµ
- å½“å‰å®ç°åŸºäºRediså•æœº
- å¦‚éœ€æ›´é«˜æ€§èƒ½ï¼Œå¯è€ƒè™‘Redis Cluster

### 2. åŠ¨æ€è°ƒæ•´
- æ”¯æŒçƒ­æ›´æ–°é™æµé…ç½®ï¼ˆNacosé…ç½®ï¼‰
- å®ç°é™æµé™çº§å¼€å…³

### 3. é™æµç»Ÿè®¡
- è®°å½•é™æµè§¦å‘æ—¥å¿—åˆ°Kafka
- ç”Ÿæˆé™æµåˆ†ææŠ¥è¡¨

### 4. ç™½åå•æœºåˆ¶
- æ”¯æŒIPç™½åå•ï¼ˆä¸é™æµï¼‰
- æ”¯æŒç‰¹æƒç”¨æˆ·ç™½åå•

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [ç½‘å…³æŠ€æœ¯å®ç°æ–‡æ¡£](../../../docs/IntelliHub%20API%20ç½‘å…³æŠ€æœ¯å®ç°æ–‡æ¡£.md)
- [Redisé™æµæ–¹æ¡ˆå¯¹æ¯”](https://redis.io/docs/manual/patterns/distributed-locks/)
- [é™æµç®—æ³•è¯¦è§£](https://en.wikipedia.org/wiki/Rate_limiting)

---

**ä¿®å¤å®Œæˆï¼âœ¨ ç½‘å…³é™æµåŠŸèƒ½ç°åœ¨å·²ç»éå¸¸å®Œå–„å’Œå¥å£®ã€‚**

